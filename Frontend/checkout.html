<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - CYD</title>
    <link rel="stylesheet" href="css/checkout.css">
    <script src="js/auth-utils.js"></script>
</head>
<body>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            const authenticated = await requireAuth();
            if (!authenticated) return;
            startInactivityMonitor();
            
            const user = getAuthUser();
            if (user) {
                const accountLink = document.querySelector('a[href="profile.html"]');
                if (accountLink) {
                    const accountText = accountLink.querySelector('span');
                    if (accountText) {
                        accountText.textContent = user.name.split(' ')[0];
                    }
                }
            }
        });
        
        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                stopInactivityMonitor();
                logout();
            }
        }
    </script>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-left">
            <a href="index.html">
                <img src="images/logo.png" alt="CYD Logo" class="logo">
            </a>
            <span class="brand-name">C Y D</span>
            <a href="index.html" class="nav-link">
                <span>Home</span>
            </a>
            <a href="product-listing.html" class="nav-link">
                <span>Shop Now</span>
            </a>
        </div>
        
        <div class="nav-center">
            <input type="text" id="searchInput" placeholder="search" class="search-input">
            <button id="searchBtn" class="search-btn">Search</button>
        </div>
        
        <div class="nav-right">
            <a href="order.html" class="nav-link">
                <img src="User panel images/icons/orders-icon.png" alt="Orders" class="nav-icon">
                <span>Orders</span>
            </a>
            <a href="cart.html" class="nav-link">
                <img src="User panel images/icons/cart-icon.png" alt="Cart" class="nav-icon">
                <span>Cart</span>
            </a>
            <a href="about.html" class="nav-link">
                <span>About Us</span>
            </a>
            <a href="profile.html" class="nav-link">
                <img src="User panel images/icons/account-icon.webp" alt="Account" class="nav-icon">
                <span>Account</span>
            </a>
            <button onclick="handleLogout()" class="nav-link logout-btn">
                <span>Logout</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="checkout-container">
            <!-- Page Title -->
            <h1 class="page-title">Checkout</h1>

            <!-- Navigation Tabs -->
            <div class="checkout-nav">
                <a href="checkout.html" class="nav-tab active">Information</a>
                <a href="checkout-payment.html" class="nav-tab">Payment</a>
            </div>

            <div class="checkout-wrapper">
                <!-- Checkout Form Section -->
                <div class="checkout-form-section">
                    <!-- Checkout Form -->
                    <form class="checkout-form" id="checkoutForm">
                <!-- Contact Info Section -->
                <div class="form-section">
                    <h2 class="section-title">Contact Info</h2>
                    
                    <div class="form-group">
                        <input type="email" id="email" name="email" class="form-input" 
                               placeholder="Email" required>
                    </div>

                    <div class="form-group">
                        <input type="tel" id="phone" name="phone" class="form-input" 
                               placeholder="Phone" required>
                    </div>
                </div>

                <!-- Shipping Address Section -->
                <div class="form-section">
                    <h2 class="section-title">Shipping Address</h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="firstName" name="firstName" class="form-input" 
                                   placeholder="First Name" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="lastName" name="lastName" class="form-input" 
                                   placeholder="Last Name" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <select id="country" name="country" class="form-input" required>
                            <option value="">Select Country</option>
                            <option value="srilanka">Sri Lanka</option>
                            <option value="india">India</option>
                            <option value="china">China</option>
                            <option value="japan">Japan</option>
                            <option value="usa">USA</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <input type="text" id="state" name="state" class="form-input" 
                               placeholder="State/Region" required>
                    </div>

                    <div class="form-group">
                        <input type="text" id="line1" name="line1" class="form-input" 
                               placeholder="Address Line 1" required>
                    </div>

                    <div class="form-group">
                        <input type="text" id="city" name="city" class="form-input" 
                               placeholder="City" required>
                    </div>

                    <div class="form-group">
                        <input type="text" id="postalCode" name="postalCode" class="form-input" 
                               placeholder="Postal Code" required>
                    </div>
                </div>

                        <!-- Submit Button -->
                        <div class="button-container">
                            <button type="submit" class="proceed-btn">Proceed to Payment</button>
                        </div>
                    </form>
                </div>

                <!-- Order Summary Section -->
                <div class="checkout-summary-section">
                    <div class="checkout-summary">
                        <h3>Order Summary</h3>
                        <p>Loading order summary...</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h3 class="footer-brand">C Y D.</h3>
                <div class="social-icons">
                    <img src="User panel images/icons/facebook-icon.webp" alt="Facebook" class="social-icon">
                    <img src="User panel images/icons/twitter-icon.png" alt="Twitter" class="social-icon">
                    <img src="User panel images/icons/instagram-icon.jpg" alt="Instagram" class="social-icon">
                </div>
                <p class="footer-copyright">Copyright 2025 ©️ CYD.com - All rights Reserved</p>
            </div>
            
            <div class="footer-column">
                <h4 class="footer-heading">Company</h4>
                <a href="products.html" class="footer-link">Shop Now</a>
                <a href="index.html" class="footer-link">Home</a>
                <a href="about.html" class="footer-link">About Us</a>
                <a href="contact.html" class="footer-link">Contact Us</a>
            </div>
            
            <div class="footer-column">
                <h4 class="footer-heading">Information</h4>
                <a href="privacy.html" class="footer-link">Privacy Policy</a>
                <a href="terms.html" class="footer-link">Terms & Conditions</a>
                <a href="returns.html" class="footer-link">Return Policy</a>
                <a href="locations.html" class="footer-link">Store Locations</a>
            </div>
            
            <div class="footer-column footer-newsletter">
                <h4 class="footer-heading">Get In Touch</h4>
                <input type="email" placeholder="enter your email" class="newsletter-input">
                <button class="newsletter-btn">subscribe</button>
            </div>
        </div>
    </footer>

    <script src="js/checkout.js"></script>
</body>
</html>